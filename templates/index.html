<!DOCTYPE html>
<html>
  <head>
    <title>Migra ancestry mapping</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta charset="UTF-8">
    <link rel="stylesheet" media="screen" type="text/css" href="/static/css/migra.css" />
    <script type="text/javascript" src="/static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer.js"></script>
    <script type="text/javascript" src="/static/js/oms.min.js"></script>
    <script type="text/javascript" src="/static/js/migra.js"></script>
  </head>
  <body>
        <header id="header"><h1>Migra ancestry mapping</h1>
<!--        <form id="reset_form"><input type="button" value="Reset" /></form> -->
        </header>
        <section id="map_section"><div id="map_canvas"></div></section>
        <section id="experimental" style="display: none;">
        <form action="javascript:showMigrations();"><input type="submit" value="Show Migrations" /></form>
        </section>
        <footer id="footer" class="footer" style="display: table; width: 100%">
            <div id="statusBar" style="display: table-row; width: 100%">
                <div id="message_pad" style="display: table-cell; width: 50%">Ready.</div>
                <progress id="progressBar" value="0" max="100" style="display: table-cell; width: 50%">&nbsp;</progress>
                <div id="percentageCalc" style="display: table-cell; width: 5%;">&nbsp;</div> 
                <div id="spinner" style="width: 100px; display: none">
                    <div id="bowlG">
                        <div id="bowl_ringG">
                            <div class="ball_holderG">
                                <div class="ballG">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <div id="overlay">
            <div id="upload_form_wrapper" class="dialog" style="display: none;" >
                 <form id="upload_form" action="/upload" >
                     <fieldset>
                         <legend>Upload your genealogy data</legend>
                         <dl class="formfields">
                             <dt><label for="gedcom" id="file_label">GEDCOM</label></dt>
                             <dd>
                                 <input type="file" required placeholder="A Gedcom file" name="gedcom" id="gedcom" />
                             </dd>
                             <dt><label for="q" id="q_label" >Search</label></dt>
                             <dd>
                                 <input name="q" id="query_string" placeholder="Search term" />
                             </dd>
                         </dl>
                         <input type="submit"></input>
                     </fieldset>
                     <p style="font-size: 75%">
                     GEDCOM is the standard genealogy file structure. 
                     Your online genealogy site or desktop program should be 
                     capable of generating GEDCOM files. These files can get 
                     quite big, and larger files increase processing time.
                     </p>
                 </form>
            </div>
            <div id="walk_form_wrapper" class="dialog" style="display: none;">
                <form id="walk_form" action="/walk" >
<!--
                    <input type="hidden" name="sid" id="sid"/>
-->
                    <fieldset>
                        <legend>Whose ancestors are we mapping?</legend>
                        <dl class="formfields">
                            <dt>
                                <label for="i" id="i_label">Focal individual</label>
                            </dt>
                			<dd>
                                <select name="i" id="i_select">
                                </select>
                            </dd>
                            <dt>
                                <label for="d" id="d_label">Depth</label>
                            </dt>
    			            <dd>
                                <select name="d" id="depth">
                                    <option value="1">Parents</option>
                                    <option value="2">Grandparents</option>
                                    <option value="3">Great grandparents</option>
                                    <option value="4">Great-great grandparents</option>
                                    <option value="5">3rd great grandparents</option>
                                    <option value="6">4th great grandparents</option>
                                    <option value="7">5th great grandparents</option>
                                    <option value="8">6th great grandparents</option>
                                    <option value="9">7th great grandparents</option>
                                    <option value="10">8th great grandparents</option>
                                    <option value="11">9th great grandparents</option>
                                    <option value="12">10th great grandparents</option>
                                    <option value="13">11th great grandparents</option>
                                    <option value="14">12th great grandparents</option>
                                </select>
                            </dd>
                        </dl>
                        <input type="submit"></input>
                    </fieldset>
                    <p style="font-size: 75%">
                    The <q>focal individual</q> is the person whose ancestors you want to see. 
                    Each level of ancestry can double the amount of processing time,
                    though this effect is mitigated when Migra has already stored 
                    locations in the GEDCOM.
                    </p>
                </form>
            </div>
        </div>
    </body>
</html>
